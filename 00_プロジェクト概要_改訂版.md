# RepoTomo プロジェクト概要（改訂版）

## プロジェクト名
RepoTomo（レポートモ）- 心理的安全性重視の報告書管理・追跡システム

## 概要
**React + Supabase + Vercel** による超低コスト構成の報告書管理システムです。既存のグループウェア（Talknote/Googleドライブ）と連携し、多数の報告書の提出状況を一元管理。スタッフの心理的安全性を保ちながら、適切な進捗管理を実現します。

## 重要：本システムの位置づけ
- **報告書作成ツールではありません**
- **既存のTalknote/Googleドライブを置き換えるものではありません**
- **報告書の提出状況と質問対応を管理するツールです**

## システムの特徴
* **心理的安全性と業務バランス**: プレッシャーを避けながらも、遅延は明確に伝える絶妙なコミュニケーション
* **決め打ち型UI**: 自由記述を最小限にし、選択式で迷わない設計
* **既存ツールとの共存**: Talknote/Googleドライブはそのまま活用
* **スマートな通知管理**: 通知疲れを防ぐカスタマイズ可能な設定

## 主な機能

### スタッフ向け機能（Webアプリ/LINE Bot）

#### 報告書提出管理
* **3ボタン式の簡単操作**
  - ✅ 提出完了（Talknote/Googleドライブにアップ済み）
  - ❓ 質問・相談あり（カテゴリ選択式）
  - 🕐 後で提出（理由選択式）

* **質問カテゴリ（決め打ち）**
  - 📝 フォーマットについて
  - ⏰ 期限について  
  - 📋 内容について
  - 💭 その他（詳細記入欄あり）

#### LINEリマインダー機能
* **段階的な通知（プレッシャーを避けつつ明確に）**
  - 3日前：「📅 ○○報告書の期限が近づいています」
  - 当日：「📌 本日が○○報告書の期限です」
  - 翌日：「⚠️ ○○報告書の期限を過ぎています」
  
* **通知カスタマイズ設定**
  - 通知時間帯の設定（9:00-21:00など）
  - 報告書別の通知ON/OFF
  - 週末通知の有無

### 管理者向け機能（Webダッシュボード）

#### 優先度別ダッシュボード
```
🔴 要対応（3件）
├─ 田中さん：日報について質問
├─ 山田さん：週報が2日遅延
└─ 佐藤さん：改善提案で相談

🟡 確認待ち（8件）
├─ 本日提出された報告書一覧

🟢 完了（15件）
└─ 確認済みの報告書
```

#### ワンクリックアクション
* **定型返信テンプレート**
  - 「確認しました。ありがとうございます」
  - 「期限延長を承認します（○日まで）」
  - 「質問について回答します：[カスタム入力]」

* **一括操作**
  - 選択した報告書を一括確認済み
  - 特定グループへ一括リマインダー

## 報告書種類（12-13種類の例）
1. 日報
2. 週報
3. 月報
4. 売上報告
5. 在庫報告
6. クレーム報告
7. 改善提案
8. 研修報告
9. 会議議事録
10. イベント報告
11. 衛生チェック報告
12. 設備点検報告
13. その他特別報告

## 報告書提出時の入力項目

### スタッフが入力する項目（全て任意）
* **報告書URL**: GoogleスプレッドシートやTalknoteのリンク（任意）
* **メッセージ**: 補足説明、状況報告など（任意）
* **添付ファイル**: PDF、Excel、Word、画像等（任意）

### 提出パターン例
1. **シンプル提出**: ボタンを押すだけ（URL・メッセージなし）
2. **URL付き提出**: GoogleスプレッドシートのURLのみ
3. **フル提出**: URL + メッセージ + 添付ファイル

## 運用フロー
1. **報告書作成**: スタッフがTalknote/Googleドライブで作成・提出
2. **状態報告**: RepoTomoで「提出完了」または「質問あり」を選択
3. **任意で追加情報**: URL、メッセージ、ファイルを添付可能
4. **自動通知**: 未提出者へLINEで段階的リマインダー
5. **管理確認**: 管理者がダッシュボードで一元確認、URLから詳細確認
6. **フィードバック**: 質問への迅速な定型返信

## 心理的安全性への配慮
* **言葉遣いの工夫**
  - ❌「締切厳守」→ ⭕「期限の目安」
  - ❌「未提出」→ ⭕「まだの方」
  - ❌「遅延」→ ⭕「期限を過ぎています」

* **プレッシャーレベルの段階的上昇**
  - 初回通知：優しく案内
  - 2回目：事実を伝える
  - 3回目：明確に遅延を指摘

## 成功指標（KPI）
* **報告書認知率**: 100%（何の報告書がいつまでか全員が把握）
* **期限内提出率**: 85%以上
* **質問回答時間**: 6時間以内
* **通知ストレス指数**: 月3件以下の通知関連クレーム

## 技術スタック（変更なし）
* **フロントエンド**: React 18 + TypeScript + Vite
* **バックエンド**: Supabase (PostgreSQL + Auth + Edge Functions)
* **ホスティング**: Vercel (無料プラン)
* **通知**: LINE Messaging API
* **既存連携**: Talknote API / Google Drive API（将来）

---

## 現在のMDファイルとの主な相違点

### 1. **報告書の扱い**
- ❌ 旧：RepoTomoで報告書を作成・提出
- ⭕ 新：Talknote/Googleドライブで作成、RepoTomoは管理のみ

### 2. **フォーム設計**
- ❌ 旧：複雑な質問フォーム、自由記述中心
- ⭕ 新：3ボタン選択式、質問も決め打ちカテゴリ

### 3. **通知戦略**
- ❌ 旧：「優しい表現」のみ強調
- ⭕ 新：段階的にプレッシャーレベルを上げる（ただし適切に）

### 4. **管理者機能**
- ❌ 旧：詳細な分析機能
- ⭕ 新：一目で分かる優先度別表示、定型返信

### 5. **システムの複雑さ**
- ❌ 旧：12-13種類の報告書それぞれに詳細設定
- ⭕ 新：報告書種類は多いが、管理方法は統一（シンプル）

### 6. **LINE連携の重要度**
- ❌ 旧：オプション的な位置づけ
- ⭕ 新：コア機能（リマインダーの中心）

### 7. **データ保存**
- ❌ 旧：報告書の内容自体も保存
- ⭕ 新：提出状態と質問履歴のみ保存（軽量）